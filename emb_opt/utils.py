# AUTOGENERATED! DO NOT EDIT! File to edit: ../nbs/00_utils.ipynb.

# %% auto 0
__all__ = ['batch_list', 'unbatch_list', 'whiten']

# %% ../nbs/00_utils.ipynb 3
from .imports import *

# %% ../nbs/00_utils.ipynb 4
def batch_list(inputs: list, 
               batch_size: int
              ) -> list[list]:
    if batch_size==0:
        output = [inputs]
    else:
        output = [inputs[i:i+batch_size] for i in range(0, len(inputs), batch_size)]
    return output

def unbatch_list(inputs: list[list]) -> list:
    return [item for sublist in inputs for item in sublist]

# %% ../nbs/00_utils.ipynb 6
def whiten(scores: np.ndarray # vector shape (n,) of scores to whiten
          ) -> np.ndarray: # vector shape (n,) whitened scores
    'Whitens vector of scores'
    mean = scores.mean()
    var = scores.var()
    
    return (scores - mean) / np.sqrt(var + 1e-8)
